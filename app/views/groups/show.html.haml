#group
  %p= @group.name
  = link_to t('.edit'), edit_group_path(@group) if user_signed_in? && @group.owner == current_user
  = link_to t('.games'), group_games_path(@group)
  = link_to t('.archive'), group_games_path(@group, :archive => true)
  #group_users
    - if user_signed_in?
      - if @membership.present?
        = link_to t('.leave'), membership_path(@membership), :method => :delete
      - elsif @group.hospitable?
        = link_to t('.join'), group_memberships_path(@group), :method => :post
    %ul
      - @group.memberships.each do |membership|
        %li
          = content_tag :span, render(membership.user), :class => (membership.is_admin? ? 'admin' : nil)
          = link_to t('.remove_member'), membership_path(membership), :method => :delete if @membership.present? && @membership.is_admin?
          - if @group.owner == current_user
            - if membership.is_admin?
              = link_to t('.unset_admin'), manage_admins_group_path(@group, :unset => membership.user_username), :method => :post
            - else
              = link_to t('.set_admin'), manage_admins_group_path(@group, :set => membership.user_username), :method => :post
    = link_to t('.new_invitation'), new_group_invitation_path(@group) if user_signed_in? && @group.user_is_admin?(current_user)
  #posts
    = render @group.posts
    = link_to t('.new_post'), new_group_post_path(@group) if @group.user_can_post?(current_user)
  #games
    = link_to t('.new_game'), new_group_game_path(@group) if @group.user_can_announce_game?(current_user)
